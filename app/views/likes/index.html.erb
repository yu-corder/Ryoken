<div class = "cooks-container">
    <% if @likes[0] != nil %>
            <div class = "cooks-box">
                <% @likes.each do |like| %>
                    <div class = "section-cookpost">
                        <a href = "/show/<%= like.cookpost.id %>">
                            <h2 class = "cooking-name"><%= like.cookpost.cooking_name %></h2>
                            <p>
                                <% like.cookpost.images.each do |image| %>
                                    <%= image_tag image.to_s, width: '30%', height: '30%' %>
                                <% end %>
                            </p>
                        </a>
                        <p id = "likes_buttons_<%= like.cookpost.id %>" style = "display:inline-block;">
                            <%= render partial: 'likes/like', locals: {cookpost: like.cookpost} %>
                        </p>
                        <i class="far fa-comment"></i><p class = "comment-number"><%= like.cookpost.comments.count %></p>
                        <a href = "users/show/<%= like.cookpost.user.id %>">
                            <p class = "cooking-nickname">by <%= like.cookpost.user.nickname %></p>
                    　　 </a>
                    </div>
                <% end %>
            </div>
            <%= paginate @likes %>
            <% if @likes.size > 10 %>
                <div class = "page-load-status">
                    <p class = "infinite-scroll-request">
                        ...読み込み中
                    </p>
                    <p class = "infinite-scroll-error">
                        読み込みできませんでした。
                    </p>
                </div>
            <% end %>
    <% else %>
        <p class = "my-post">いいねした投稿がありません。</p>
    <% end %>
</div>
<script>
    $(document).on('turbolinks:load', function() {
        if ($("nav.pagination a[rel=next]").length){
            $(".cooks-container").infiniteScroll({
              path: "nav.pagination a[rel=next]",
              append: ".cooks-box",
              prefill: false,
              history: false,
              hideNav: "nav.pagination",
              status: '.page-load-status'
            })
        }
    });
</script>
